<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vCon Info - Developer Tool for vCon Standards</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="header-brand">
                <h1 class="brand-title">vCon Info</h1>
            </div>
            <nav class="header-nav">
                <a href="https://datatracker.ietf.org/group/vcon/documents/" class="nav-link" target="_blank" rel="noopener noreferrer">IETF vCon WG</a>
                <a href="https://github.com/quartzjer/vcon-info" class="nav-link" target="_blank" rel="noopener noreferrer" aria-label="GitHub Repository">
                    <img src="https://cdn.simpleicons.org/github" alt="GitHub" width="20" height="20">
                </a>
                <button class="lock-button" id="lock-button" aria-label="Toggle Key Input Panel" aria-expanded="false">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"/>
                    </svg>
                </button>
            </nav>
        </div>
    </header>

    <!-- Key Input Panel -->
    <div class="key-panel" id="key-panel">
        <div class="key-panel-container">
            <div class="key-inputs">
                <div class="key-input-group">
                    <textarea id="public-key" class="key-textarea" placeholder="Paste your public key here for signature validation..." spellcheck="false"></textarea>
                </div>
                <div class="key-input-group">
                    <textarea id="private-key" class="key-textarea" placeholder="Paste your private key here for decryption..." spellcheck="false"></textarea>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Left Panel - Input -->
        <section class="input-panel">
            <!-- Input Tabs -->
            <div class="input-tabs">
                <button class="input-tab-button active" id="tab-paste" data-input-tab="paste">Paste</button>
                <button class="input-tab-button" id="tab-upload" data-input-tab="upload">Upload</button>
                <button class="input-tab-button" id="tab-examples" data-input-tab="examples">Examples</button>
                <button class="input-tab-button" id="tab-json" data-input-tab="json">JSON</button>
                <button class="input-tab-button" id="tab-encrypted" data-input-tab="encrypted">Encrypted</button>
            </div>
            
            <!-- Tab Content -->
            <div class="input-tab-content">
                <!-- Paste Tab -->
                <div class="input-tab-panel active" id="paste-view">
                    <div class="code-editor">
                        <textarea class="code-textarea" id="input-textarea" placeholder="Paste your vCon here...">{
  "vcon": "0.3.0",
  "uuid": "018972cc-8ddb-7ccc-baa5-ec2a4e6c7d0d",
  "created_at": "2023-12-14T18:59:45.911Z",
  "updated_at": "2023-12-14T19:00:12.345Z",
  "parties": [
    {
      "tel": "+1-555-123-4567",
      "name": "Alice Johnson",
      "email": "alice@example.com"
    },
    {
      "tel": "+1-555-987-6543", 
      "name": "Bob Smith",
      "email": "bob@example.com"
    }
  ],
  "dialog": [
    {
      "type": "recording",
      "start": "2023-12-14T18:59:50.100Z",
      "end": "2023-12-14T19:00:10.856Z",
      "parties": [0, 1],
      "originator": 0,
      "mimetype": "audio/wav",
      "filename": "call-recording.wav",
      "body": "base64-encoded-audio-data..."
    }
  ],
  "attachments": [
    {
      "type": "transcript",
      "parties": [0, 1],
      "mimetype": "text/plain",
      "body": "Transcript of the conversation..."
    }
  ]
}</textarea>
                    </div>
                </div>
                
                <!-- Upload Tab -->
                <div class="input-tab-panel" id="upload-view">
                    <div class="upload-container">
                        <div class="upload-drop-zone">
                            <svg class="upload-icon" width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/>
                            </svg>
                            <p class="upload-text">Drop vCon file here or click to browse</p>
                            <input type="file" class="upload-input" id="file-input" accept=".json,.vcon" style="display: none;">
                        </div>
                    </div>
                </div>
                
                <!-- Examples Tab -->
                <div class="input-tab-panel" id="examples-view">
                    <div class="examples-container">
                        <div class="examples-header">
                            <h3 class="examples-title">vCon Examples</h3>
                            <p class="examples-description">Select an example to load and analyze</p>
                        </div>
                        <div class="examples-list" id="examples-list">
                            <!-- Examples will be loaded here dynamically -->
                        </div>
                    </div>
                </div>
                
                <!-- JSON Tab -->
                <div class="input-tab-panel" id="json-view">
                    <div class="json-builder">
                        <p class="json-placeholder">JSON builder interface coming soon</p>
                        <p class="json-hint">Build vCon objects using a visual form interface</p>
                    </div>
                </div>
                
                <!-- Encrypted Tab -->
                <div class="input-tab-panel" id="encrypted-view">
                    <div class="encrypted-container">
                        <div class="code-editor">
                            <textarea class="code-textarea encrypted-textarea" id="encrypted-textarea" placeholder="Paste your encrypted vCon here..."></textarea>
                        </div>
                        <div class="decryption-hint">
                            <p>To decrypt, provide your private key using the <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="display: inline-block; vertical-align: middle;"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"/></svg> button above</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Right Panel - Output -->
        <section class="output-panel">

            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-button active" id="tab-inspector" data-tab="inspector">Inspector</button>
                <button class="tab-button" id="tab-timeline" data-tab="timeline">Timeline</button>
                <button class="tab-button" id="tab-validation" data-tab="validation">
                    <span id="validation-tab-icon">Validation ‚ùì</span>
                </button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Inspector Tab -->
                <div class="tab-panel active" id="inspector-view">
                    <div id="vcon-tree">
                        <!-- Metadata Section -->
                        <div class="inspector-section">
                            <div class="section-header section-metadata">
                                <span class="section-title">Metadata</span>
                                <button class="panel-toggle" aria-label="Toggle section">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="content-placeholder">
                                    <div class="detail-row">
                                        <span class="detail-key">vCon Version:</span>
                                        <span class="detail-value"><code>0.3.0</code></span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-key">UUID:</span>
                                        <span class="detail-value"><code>018972cc-8ddb-7ccc-baa5-ec2a4e6c7d0d</code></span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-key">Created At:</span>
                                        <span class="detail-value">December 14, 2023 at 6:59 PM UTC</span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-key">Updated At:</span>
                                        <span class="detail-value">December 14, 2023 at 7:00 PM UTC</span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-key">Subject:</span>
                                        <span class="detail-value"><em>Not specified</em></span>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-key">Must Support Extensions:</span>
                                        <span class="detail-value"><em>None</em></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Relationships Section -->
                        <div class="inspector-section">
                            <div class="section-header section-relationships">
                                <span class="section-title">Relationships</span>
                                <button class="panel-toggle" aria-label="Toggle section">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="content-placeholder">
                                    <div class="relationship-info">
                                        <div class="relationship-type">
                                            <span class="relationship-badge badge-standard">Standard vCon</span>
                                        </div>
                                        <div class="relationship-details">
                                            <div class="detail-row">
                                                <span class="detail-key">Type:</span>
                                                <span class="detail-value">Standard (no relationships)</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Parties Section -->
                        <div class="inspector-section">
                            <div class="section-header section-parties">
                                <span class="section-title">Parties</span>
                                <button class="panel-toggle" aria-label="Toggle section">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="content-placeholder">
                                    <div class="party-item">
                                        <div class="party-header">
                                            <span class="party-index">0</span>
                                            <span class="party-identifier">Alice Johnson</span>
                                        </div>
                                        <div class="party-details">
                                            <div class="detail-row">
                                                <span class="detail-key">Phone:</span>
                                                <span class="detail-value">+1-555-123-4567</span>
                                            </div>
                                            <div class="detail-row">
                                                <span class="detail-key">Email:</span>
                                                <span class="detail-value">alice@example.com</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="party-item">
                                        <div class="party-header">
                                            <span class="party-index">1</span>
                                            <span class="party-identifier">Bob Smith</span>
                                        </div>
                                        <div class="party-details">
                                            <div class="detail-row">
                                                <span class="detail-key">Phone:</span>
                                                <span class="detail-value">+1-555-987-6543</span>
                                            </div>
                                            <div class="detail-row">
                                                <span class="detail-key">Email:</span>
                                                <span class="detail-value">bob@example.com</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Dialog Section -->
                        <div class="inspector-section">
                            <div class="section-header section-dialog">
                                <span class="section-title">Dialog</span>
                                <button class="panel-toggle" aria-label="Toggle section">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="content-placeholder">
                                    <div class="dialog-item">
                                        <div class="dialog-header">
                                            <span class="dialog-index">0</span>
                                            <span class="dialog-type">Audio Recording</span>
                                            <span class="dialog-badge badge-text">20.75s</span>
                                        </div>
                                        <div class="dialog-details">
                                            <div class="detail-row">
                                                <span class="detail-key">Type:</span>
                                                <span class="detail-value">recording</span>
                                            </div>
                                            <div class="detail-row">
                                                <span class="detail-key">Format:</span>
                                                <span class="detail-value">audio/wav</span>
                                            </div>
                                            <div class="detail-row">
                                                <span class="detail-key">Duration:</span>
                                                <span class="detail-value">20.756 seconds</span>
                                            </div>
                                            <div class="detail-row">
                                                <span class="detail-key">Parties:</span>
                                                <span class="detail-value">Alice Johnson, Bob Smith</span>
                                            </div>
                                            <div class="detail-note">
                                                <p>üìé Attached file: <code>call-recording.wav</code></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Attachments Section -->
                        <div class="inspector-section">
                            <div class="section-header section-attachments">
                                <span class="section-title">Attachments</span>
                                <button class="panel-toggle" aria-label="Toggle section">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="content-placeholder">
                                    <div class="attachment-item">
                                        <div class="attachment-header">
                                            <span class="attachment-index">0</span>
                                            <span class="attachment-type">Transcript</span>
                                            <span class="attachment-badge">text/plain</span>
                                        </div>
                                        <div class="attachment-details">
                                            <div class="detail-row">
                                                <span class="detail-key">Type:</span>
                                                <span class="detail-value">transcript</span>
                                            </div>
                                            <div class="detail-row">
                                                <span class="detail-key">Format:</span>
                                                <span class="detail-value">text/plain</span>
                                            </div>
                                            <div class="detail-row">
                                                <span class="detail-key">Size:</span>
                                                <span class="detail-value">1.2 KB</span>
                                            </div>
                                            <div class="attachment-note">
                                                <p>This attachment contains the full transcript of the conversation between all parties.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Analysis Section -->
                        <div class="inspector-section">
                            <div class="section-header section-analysis">
                                <span class="section-title">Analysis</span>
                                <button class="panel-toggle" aria-label="Toggle section">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="content-placeholder">
                                    <p><span class="highlight">Sentiment Analysis:</span> Neutral (0.72 confidence)</p>
                                    <p><span class="highlight">Language Detection:</span> English (en-US)</p>
                                    <p><span class="highlight">Topics Identified:</span></p>
                                    <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-xs);">
                                        <li>Product inquiry</li>
                                        <li>Technical support</li>
                                        <li>Account management</li>
                                    </ul>
                                    <p style="margin-top: var(--spacing-md);">Analysis performed by <code>sentiment-analyzer-v2.1</code></p>
                                </div>
                            </div>
                        </div>

                        <!-- Extensions Section -->
                        <div class="inspector-section">
                            <div class="section-header section-extensions">
                                <span class="section-title">Extensions</span>
                                <button class="panel-toggle" aria-label="Toggle section">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="content-placeholder">
                                    <p><span class="highlight">Custom Extensions:</span> 2 found</p>
                                    <div style="margin-top: var(--spacing-md);">
                                        <p><code>x-customer-id</code>: CUST-2023-45678</p>
                                        <p><code>x-call-center</code>: NYC-01</p>
                                        <p><code>x-agent-id</code>: AGT-789</p>
                                        <p><code>x-queue-time</code>: 45 seconds</p>
                                    </div>
                                    <p style="margin-top: var(--spacing-md); font-style: italic;">These are vendor-specific extensions added by the recording system.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Timeline Tab -->
                <div class="tab-panel" id="timeline-view">
                    <div class="timeline-container">
                        <p class="timeline-placeholder">Timeline visualization will be displayed here</p>
                    </div>
                </div>

                <!-- Validation Tab -->
                <div class="tab-panel" id="validation-view">
                    <div class="validation-container">
                        <div class="validation-header" id="validation-status">
                            <h2 class="validation-title">
                                <span id="validation-status-icon">‚ùì</span>
                                <span id="validation-status-text">Validation Status</span>
                            </h2>
                            <div class="validation-summary" id="validation-summary">
                                No vCon data to validate
                            </div>
                        </div>
                        
                        <div class="validation-details" id="validation-details">
                            <div class="validation-section">
                                <h3 class="validation-section-title">Schema Validation</h3>
                                <div class="validation-item" id="schema-validation">
                                    <span class="validation-item-icon">‚è≥</span>
                                    <span class="validation-item-text">Waiting for input...</span>
                                </div>
                            </div>
                            
                            <div class="validation-section">
                                <h3 class="validation-section-title">Required Fields</h3>
                                <div class="validation-item" id="required-fields">
                                    <span class="validation-item-icon">‚è≥</span>
                                    <span class="validation-item-text">Waiting for input...</span>
                                </div>
                            </div>
                            
                            <div class="validation-section">
                                <h3 class="validation-section-title">Data Integrity</h3>
                                <div class="validation-item" id="data-integrity">
                                    <span class="validation-item-icon">‚è≥</span>
                                    <span class="validation-item-text">Waiting for input...</span>
                                </div>
                            </div>
                            
                            <div class="validation-section">
                                <h3 class="validation-section-title">Security</h3>
                                <div class="validation-item" id="security-validation">
                                    <span class="validation-item-icon">‚è≥</span>
                                    <span class="validation-item-text">Waiting for input...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <p class="footer-text">An unofficial Inspector tool with Your Data never leaves your browser</p>
            <div class="footer-links">
                <span class="footer-heart">e</span>
                <a href="#" class="footer-link">built with</a>
                <a href="#" class="footer-link">by the vcon-community</a>
            </div>
        </div>
    </footer>

    <script src="vcon-processor.js"></script>
    <script src="scripts.js"></script>
</body>
</html>