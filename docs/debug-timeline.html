<!DOCTYPE html>
<html>
<head>
    <title>Debug Timeline</title>
    <style>body { background: #1a1a1a; color: white; padding: 20px; font-family: monospace; }</style>
</head>
<body>
    <h1>Timeline Debug</h1>
    <button onclick="testTimeline()">Test Timeline</button>
    <div id="debug-output"></div>
    
    <script type="module">
        import { stateManager } from './js/state-manager.js';
        import { TimelineView } from './js/components/timeline-view.js';
        
        // Initialize timeline component
        const timelineView = new TimelineView('debug-timeline');
        
        window.testTimeline = function() {
            console.log('Current state:', stateManager.getState());
            console.log('vconData:', stateManager.getState('vconData'));
            
            const vconData = stateManager.getState('vconData');
            if (vconData && vconData.dialog) {
                console.log('Dialog items:', vconData.dialog);
                document.getElementById('debug-output').innerHTML = `
                    <h3>vconData found:</h3>
                    <pre>${JSON.stringify(vconData, null, 2)}</pre>
                `;
            } else {
                document.getElementById('debug-output').innerHTML = '<p>No vconData found</p>';
            }
        };
        
        // Load sample data 
        setTimeout(() => {
            import('./js/sample-data.js').then(({ sampleVcon }) => {
                stateManager.setInput(JSON.stringify(sampleVcon, null, 2));
                console.log('Sample data loaded');
            });
        }, 500);
    </script>
    
    <div id="debug-timeline" style="border: 1px solid #333; padding: 10px; margin-top: 20px;">
        Timeline will render here
    </div>
</body>
</html>